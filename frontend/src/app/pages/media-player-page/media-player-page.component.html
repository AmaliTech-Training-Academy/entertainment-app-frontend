<div class="media-player-container">
  <!-- Video Player Section -->
  <div class="video-container" *ngIf="trailerUrl; else noVideo">
    <video
      #videoPlayer
      [src]="trailerUrl"
      controls
      autoplay
      width="100%"
      height="auto"
      style="max-width: 100%; border-radius: 12px; background: #000"
      (ended)="onVideoEnded()"
      (error)="onVideoError()"
    >
      Your browser does not support the video tag.
    </video>
  </div>
  <ng-template #noVideo>
    <div class="no-video-message">No video available.</div>
  </ng-template>

  <div class="trending-section">
    <h2 class="trending-title">Trending Now</h2>
    <div class="trending-movies-grid">
      <app-trending-movie-card
        *ngFor="let movie of paginatedTrendingMovies; let i = index"
        [rank]="(currentPage - 1) * moviesPerPage + i + 1"
        [image]="movie.thumbnailUrl"
        [alt]="movie.title"
        [mediaId]="movie.mediaId"
      ></app-trending-movie-card>
    </div>
    <div class="pagination-controls" *ngIf="totalPages > 1">
      <button
        *ngFor="let page of [].constructor(totalPages); let i = index"
        [class.active]="currentPage === i + 1"
        (click)="goToPage(i + 1)"
      >
        {{ i + 1 }}
      </button>
    </div>
  </div>
</div>
