<div class="app-container">
  <main class="main-content">
    <form class="search-section">
      <app-advanced-search (search)="onSearch($event)"></app-advanced-search>
    </form>

    <section class="trending-section">
      <h3 class="section-title">
        {{ advancedSearchComponent?.hasActiveFilters() ? 'Search Results' : 'Trending Now' }}
      </h3>

      <app-pagination
        *ngIf="filteredMovies.length > 0"
        [currentPage]="currentPage"
        [totalItems]="filteredMovies.length"
        [itemsPerPage]="6"
        (pageChange)="onPageChange($event)"
      ></app-pagination>

      <div *ngIf="filteredMovies.length === 0" class="empty-state">
        <h3 class="empty-title">No Results Found</h3>
        <button
          mat-raised-button
          color="primary"
          *ngIf="search_filter_state"
          (click)="resetFilters()"
        >
          Reset Filters
        </button>
      </div>

      <div *ngIf="filteredMovies.length > 0" class="movies-grid">
        <app-movie-card *ngFor="let movie of filteredMovies" [movie]="movie"></app-movie-card>
      </div>

      <app-pagination
        [currentPage]="currentPage"
        [totalItems]="filteredMovies.length"
        [itemsPerPage]="6"
        (pageChange)="onPageChange($event)"
        *ngIf="filteredMovies.length > 0"
      ></app-pagination>
    </section>
  </main>
</div>
