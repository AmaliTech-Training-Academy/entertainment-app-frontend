<!-- pages/admin-dashboard/admin-dashboard.component.html -->
<div class="dashboard">
  <!-- Stat cards -->
  <div class="stat-cards">
    <div class="stat-card">
      <h2>Total Users</h2>
      <p>{{ metrics?.userCount || 0 }}</p>
    </div>
    <div class="stat-card">
      <h2>Total Media</h2>
      <p>{{ metrics?.mediaCount || 0 }}</p>
    </div>
  </div>

  <!-- Trending Media Section -->
  <div class="trending-section">
    <h2 class="section-title">🔥 Trending Media</h2>
    <div class="trending-table">
      <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Year</th>
            <th>Genres</th>
            <th>Rating</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of trending">
            <td class="title-cell">{{ item.title }}</td>
            <td class="year-cell">{{ item.releaseYear }}</td>
            <td class="genres-cell">
              <span class="genre-tag" *ngFor="let genre of item.genres">{{ genre }}</span>
            </td>
            <td class="rating-cell">
              <div class="rating-badge">
                <span>⭐</span>
                <span>{{ item.averageRating }}</span>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Top Rated Chart -->
  <div class="chart-wrapper top-rated-chart">
    <h2 class="section-title">⭐ Top Rated Trending</h2>
    <ngx-charts-bar-vertical
      [view]="[500, 300]"
      [scheme]="colorScheme"
      [results]="trendingChartData"
      [gradient]="false"
      [xAxis]="true"
      [yAxis]="true"
      [legend]="false"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      [xAxisLabel]="'Movie'"
      [yAxisLabel]="'Rating'"
      [roundDomains]="true"
    >
    </ngx-charts-bar-vertical>
  </div>

  <!-- Top Genres Chart -->
  <div class="chart-wrapper">
    <h2 class="section-title">🎭 Top Genres</h2>
    <ngx-charts-pie-chart
      [results]="genreChartData"
      [scheme]="colorScheme"
      [legend]="true"
      [labels]="true"
      [doughnut]="true"
      [explodeSlices]="false"
      [animations]="true"
    >
    </ngx-charts-pie-chart>
  </div>
</div>