<nav class="app-container">
  <div class="navbar">
    <div class="navbar__logo">
      <svg
        width="200"
        height="72"
        viewBox="0 0 200 72"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M0 20C0 17.7909 1.79086 16 4 16H36C38.2091 16 40 17.7909 40 20V52C40 54.2091 38.2091 56 36 56H4C1.79086 56 0 54.2091 0 52V20Z"
          fill="#FC4747"
        />
        <path
          d="M21.8648 47.852C20.1794 47.852 18.6114 47.564 17.1608 46.988C15.7314 46.3907 14.4728 45.5587 13.3848 44.492C12.3181 43.4253 11.4861 42.188 10.8888 40.78C10.2914 39.3507 9.99275 37.8147 9.99275 36.172C9.99275 34.5293 10.2914 33.004 10.8888 31.596C11.4861 30.1667 12.3181 28.9293 13.3848 27.884C14.4514 26.8387 15.6994 26.028 17.1288 25.452C18.5794 24.8547 20.1474 24.556 21.8328 24.556C23.6248 24.556 25.2141 24.844 26.6007 25.42C28.0088 25.996 29.2354 26.7853 30.2808 27.788L26.9208 31.18C26.3234 30.54 25.5981 30.0387 24.7448 29.676C23.9128 29.3133 22.9421 29.132 21.8328 29.132C20.8514 29.132 19.9448 29.3027 19.1128 29.644C18.3021 29.964 17.5981 30.4333 17.0008 31.052C16.4248 31.6707 15.9661 32.4173 15.6248 33.292C15.3048 34.1667 15.1448 35.1267 15.1448 36.172C15.1448 37.2387 15.3048 38.2093 15.6248 39.084C15.9661 39.9587 16.4248 40.7053 17.0008 41.324C17.5981 41.9427 18.3021 42.4227 19.1128 42.764C19.9448 43.1053 20.8514 43.276 21.8328 43.276C22.9848 43.276 23.9874 43.0947 24.8408 42.732C25.6941 42.3693 26.4301 41.868 27.0487 41.228L30.4408 44.62C29.3528 45.6227 28.1048 46.412 26.6968 46.988C25.3101 47.564 23.6994 47.852 21.8648 47.852Z"
          fill="white"
        />
        <path
          d="M57.498 49.34C55.798 49.34 54.2227 49.034 52.772 48.422C51.3213 47.7873 50.052 46.9147 48.964 45.804C47.8987 44.6933 47.0713 43.4013 46.482 41.928C45.8927 40.4547 45.598 38.8793 45.598 37.202C45.598 35.502 45.8927 33.9153 46.482 32.442C47.0713 30.9687 47.8987 29.688 48.964 28.6C50.052 27.4893 51.31 26.628 52.738 26.016C54.1887 25.3813 55.764 25.064 57.464 25.064C59.3227 25.064 60.9547 25.3813 62.36 26.016C63.7653 26.6507 65.012 27.512 66.1 28.6L63.89 30.81C63.142 29.9713 62.224 29.314 61.136 28.838C60.0707 28.362 58.8467 28.124 57.464 28.124C56.2173 28.124 55.0727 28.3507 54.03 28.804C52.9873 29.2347 52.0807 29.858 51.31 30.674C50.5393 31.49 49.9387 32.4533 49.508 33.564C49.1 34.6747 48.896 35.8873 48.896 37.202C48.896 38.5167 49.1 39.7293 49.508 40.84C49.9387 41.9507 50.5393 42.914 51.31 43.73C52.0807 44.546 52.9873 45.1807 54.03 45.634C55.0727 46.0647 56.2173 46.28 57.464 46.28C58.9373 46.28 60.218 46.042 61.306 45.566C62.394 45.0673 63.312 44.3987 64.06 43.56L66.27 45.736C65.182 46.8693 63.9013 47.7533 62.428 48.388C60.9773 49.0227 59.334 49.34 57.498 49.34ZM69.6862 49V32.85H72.7462V49H69.6862ZM71.2162 29.62C70.6495 29.62 70.1849 29.4387 69.8222 29.076C69.4595 28.6907 69.2782 28.2147 69.2782 27.648C69.2782 27.104 69.4595 26.6507 69.8222 26.288C70.1849 25.9027 70.6495 25.71 71.2162 25.71C71.7829 25.71 72.2475 25.9027 72.6102 26.288C72.9729 26.6507 73.1542 27.104 73.1542 27.648C73.1542 28.2147 72.9729 28.6907 72.6102 29.076C72.2475 29.4387 71.7829 29.62 71.2162 29.62ZM88.6797 49V39.582C88.6797 38.358 88.2944 37.3493 87.5237 36.556C86.7531 35.7627 85.7557 35.366 84.5317 35.366C83.7157 35.366 82.9904 35.5473 82.3557 35.91C81.7211 36.2727 81.2224 36.7713 80.8597 37.406C80.4971 38.0407 80.3157 38.766 80.3157 39.582L79.0577 38.868C79.0577 37.644 79.3297 36.556 79.8737 35.604C80.4177 34.652 81.1771 33.904 82.1517 33.36C83.1264 32.7933 84.2257 32.51 85.4497 32.51C86.6737 32.51 87.7504 32.816 88.6797 33.428C89.6317 34.04 90.3797 34.8447 90.9237 35.842C91.4677 36.8167 91.7397 37.8593 91.7397 38.97V49H88.6797ZM77.2557 49V32.85H80.3157V49H77.2557ZM103.363 49.34C101.753 49.34 100.303 48.9773 99.0107 48.252C97.7187 47.504 96.6987 46.4953 95.9507 45.226C95.2027 43.9567 94.8287 42.5173 94.8287 40.908C94.8287 39.3213 95.1913 37.8933 95.9167 36.624C96.6647 35.3547 97.662 34.3573 98.9087 33.632C100.178 32.884 101.595 32.51 103.159 32.51C104.655 32.51 105.969 32.85 107.103 33.53C108.259 34.21 109.154 35.1507 109.789 36.352C110.446 37.5533 110.775 38.9133 110.775 40.432C110.775 40.6587 110.763 40.908 110.741 41.18C110.718 41.4293 110.673 41.724 110.605 42.064H96.9707V39.514H108.973L107.851 40.5C107.851 39.412 107.658 38.494 107.273 37.746C106.887 36.9753 106.343 36.386 105.641 35.978C104.938 35.5473 104.088 35.332 103.091 35.332C102.048 35.332 101.13 35.5587 100.337 36.012C99.5433 36.4653 98.9313 37.1 98.5007 37.916C98.07 38.732 97.8547 39.6953 97.8547 40.806C97.8547 41.9393 98.0813 42.9367 98.5347 43.798C98.988 44.6367 99.634 45.294 100.473 45.77C101.311 46.2233 102.275 46.45 103.363 46.45C104.269 46.45 105.097 46.2913 105.845 45.974C106.615 45.6567 107.273 45.1807 107.817 44.546L109.789 46.552C109.018 47.4587 108.066 48.15 106.933 48.626C105.822 49.102 104.632 49.34 103.363 49.34ZM121.659 49L112.411 24.996H118.123L125.161 44.41H122.815L129.955 24.996H135.599L126.249 49H121.659ZM142.98 49.374C141.19 49.374 139.592 49.0113 138.186 48.286C136.804 47.538 135.716 46.5067 134.922 45.192C134.129 43.8773 133.732 42.3927 133.732 40.738C133.732 39.0833 134.118 37.61 134.888 36.318C135.682 35.0033 136.747 33.972 138.084 33.224C139.422 32.476 140.929 32.102 142.606 32.102C144.238 32.102 145.678 32.4533 146.924 33.156C148.171 33.8587 149.146 34.8333 149.848 36.08C150.574 37.3267 150.936 38.7547 150.936 40.364C150.936 40.6587 150.914 40.976 150.868 41.316C150.846 41.6333 150.789 42.0073 150.698 42.438L136.452 42.472V38.902L148.488 38.868L146.244 40.364C146.222 39.412 146.074 38.63 145.802 38.018C145.53 37.3833 145.122 36.9073 144.578 36.59C144.057 36.25 143.411 36.08 142.64 36.08C141.824 36.08 141.11 36.2727 140.498 36.658C139.909 37.0207 139.444 37.542 139.104 38.222C138.787 38.902 138.628 39.7293 138.628 40.704C138.628 41.6787 138.798 42.5173 139.138 43.22C139.501 43.9 140 44.4327 140.634 44.818C141.292 45.1807 142.062 45.362 142.946 45.362C143.762 45.362 144.499 45.226 145.156 44.954C145.814 44.6593 146.392 44.2287 146.89 43.662L149.746 46.518C148.93 47.47 147.944 48.184 146.788 48.66C145.632 49.136 144.363 49.374 142.98 49.374ZM153.447 49V32.476H158.649V49H153.447ZM158.649 39.922L156.473 38.222C156.904 36.2953 157.629 34.7993 158.649 33.734C159.669 32.6687 161.086 32.136 162.899 32.136C163.693 32.136 164.384 32.2607 164.973 32.51C165.585 32.7367 166.118 33.0993 166.571 33.598L163.477 37.508C163.251 37.2587 162.967 37.066 162.627 36.93C162.287 36.794 161.902 36.726 161.471 36.726C160.61 36.726 159.919 36.998 159.397 37.542C158.899 38.0633 158.649 38.8567 158.649 39.922ZM173.61 49.408C172.635 49.408 171.672 49.2833 170.72 49.034C169.791 48.7847 168.918 48.4333 168.102 47.98C167.309 47.504 166.629 46.96 166.062 46.348L169.02 43.356C169.564 43.9453 170.21 44.41 170.958 44.75C171.706 45.0673 172.522 45.226 173.406 45.226C174.018 45.226 174.483 45.1353 174.8 44.954C175.14 44.7727 175.31 44.5233 175.31 44.206C175.31 43.798 175.106 43.492 174.698 43.288C174.313 43.0613 173.814 42.8687 173.202 42.71C172.59 42.5287 171.944 42.336 171.264 42.132C170.584 41.928 169.938 41.6447 169.326 41.282C168.714 40.9193 168.215 40.4207 167.83 39.786C167.445 39.1287 167.252 38.3013 167.252 37.304C167.252 36.2387 167.524 35.3207 168.068 34.55C168.612 33.7567 169.383 33.1333 170.38 32.68C171.377 32.2267 172.545 32 173.882 32C175.287 32 176.579 32.2493 177.758 32.748C178.959 33.224 179.934 33.938 180.682 34.89L177.724 37.882C177.203 37.27 176.613 36.8393 175.956 36.59C175.321 36.3407 174.698 36.216 174.086 36.216C173.497 36.216 173.055 36.3067 172.76 36.488C172.465 36.6467 172.318 36.8847 172.318 37.202C172.318 37.542 172.511 37.814 172.896 38.018C173.281 38.222 173.78 38.4033 174.392 38.562C175.004 38.7207 175.65 38.9133 176.33 39.14C177.01 39.3667 177.656 39.6727 178.268 40.058C178.88 40.4433 179.379 40.9647 179.764 41.622C180.149 42.2567 180.342 43.0953 180.342 44.138C180.342 45.7473 179.73 47.028 178.506 47.98C177.305 48.932 175.673 49.408 173.61 49.408ZM191.324 49.374C189.533 49.374 187.935 49.0113 186.53 48.286C185.147 47.538 184.059 46.5067 183.266 45.192C182.473 43.8773 182.076 42.3927 182.076 40.738C182.076 39.0833 182.461 37.61 183.232 36.318C184.025 35.0033 185.091 33.972 186.428 33.224C187.765 32.476 189.273 32.102 190.95 32.102C192.582 32.102 194.021 32.4533 195.268 33.156C196.515 33.8587 197.489 34.8333 198.192 36.08C198.917 37.3267 199.28 38.7547 199.28 40.364C199.28 40.6587 199.257 40.976 199.212 41.316C199.189 41.6333 199.133 42.0073 199.042 42.438L184.796 42.472V38.902L196.832 38.868L194.588 40.364C194.565 39.412 194.418 38.63 194.146 38.018C193.874 37.3833 193.466 36.9073 192.922 36.59C192.401 36.25 191.755 36.08 190.984 36.08C190.168 36.08 189.454 36.2727 188.842 36.658C188.253 37.0207 187.788 37.542 187.448 38.222C187.131 38.902 186.972 39.7293 186.972 40.704C186.972 41.6787 187.142 42.5173 187.482 43.22C187.845 43.9 188.343 44.4327 188.978 44.818C189.635 45.1807 190.406 45.362 191.29 45.362C192.106 45.362 192.843 45.226 193.5 44.954C194.157 44.6593 194.735 44.2287 195.234 43.662L198.09 46.518C197.274 47.47 196.288 48.184 195.132 48.66C193.976 49.136 192.707 49.374 191.324 49.374Z"
          fill="white"
        />
      </svg>
    </div>
    <a routerLink="/signup" class="signup-link">Home</a>
    <div class="navbar__search">
      <span class="navbar__search-icon"
        ><svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M18.031 16.617L22.314 20.899L20.899 22.314L16.617 18.031C15.0237 19.3082 13.042 20.0029 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20.0029 13.042 19.3082 15.0237 18.031 16.617ZM16.025 15.875C17.2938 14.5697 18.0025 12.8204 18 11C18 7.133 14.867 4 11 4C7.133 4 4 7.133 4 11C4 14.867 7.133 18 11 18C12.8204 18.0025 14.5697 17.2938 15.875 16.025L16.025 15.875Z"
            fill="white"
          /></svg
      ></span>
      <input
        class="navbar__search-input"
        type="text"
        placeholder="Search for movies or TV series"
        (focus)="onSearchFocus()"
        (blur)="onSearchBlur()"
        (input)="onSearchInput($event)"
        [value]="searchQuery"
      />
      <div class="search-dropdown" *ngIf="showDropdown">
        <ng-container *ngIf="searchResults.length; else noResults">
          <div class="search-dropdown__results">
            <div
              *ngFor="let movie of searchResults"
              class="search-dropdown__movie-card"
            >
              <img
                [src]="movie.image"
                [alt]="movie.alt"
                class="search-dropdown__movie-img"
              />
              <div class="search-dropdown__movie-info">
                <div class="search-dropdown__movie-title">{{ movie.alt }}</div>
                <div class="search-dropdown__movie-year">{{ movie.year }}</div>
              </div>
            </div>
          </div>
        </ng-container>
        <ng-template #noResults>
          <div class="search-dropdown__no-results">No results found.</div>
        </ng-template>
      </div>
    </div>
    <div class="navbar__actions">
      <ng-container *ngIf="!isAuthenticated; else userMenu">
        <a
          class="navbar__sign-in"
          href="#"
          (click)="goToLogin(); $event.preventDefault()"
          >Sign in</a
        >
        <app-button
          type="primary"
          size="medium"
          icon="search"
          iconPosition="right"
          (buttonClick)="goToSignUp()"
          >Sign up</app-button
        >
      </ng-container>
      <ng-template #userMenu>
        <div class="navbar__user" (click)="toggleUserDropdown()">
          <app-avatar
            [src]="user?.avatar || ''"
            [name]="user?.name || ''"
            [size]="40"
            class="navbar__avatar"
          ></app-avatar>
          <span class="navbar__username">{{ user?.name }}</span>
          <div class="navbar__user-dropdown" *ngIf="showUserDropdown">
            <a class="navbar__user-option" href="#">Profile</a>
            <a
              class="navbar__user-option"
              href="#"
              (click)="logout(); $event.preventDefault()"
              >Logout</a
            >
          </div>
        </div>
      </ng-template>
    </div>
  </div>
</nav>
